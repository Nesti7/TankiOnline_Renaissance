#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã "–¢–∞–Ω–∫–∏ –û–Ω–ª–∞–π–Ω"
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å: TankiOnline2024!

echo "üîê –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∏–≥—Ä—ã –¢–∞–Ω–∫–∏ –û–Ω–ª–∞–π–Ω..."
echo "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏:"

# –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ–º –∏–≥—Ä—É
openssl enc -aes-256-cbc -d -pbkdf2 -in game.encrypted -out game.tar.gz -pass pass:TankiOnline2024!

if [ $? -eq 0 ]; then
    echo "‚úÖ –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞!"

    # –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã
    echo "üì¶ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤..."
    tar -xzf game.tar.gz

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
    npm install

    # –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
    echo "üöÄ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã..."
    echo ""
    echo "üéÆ –ò–≥—Ä–∞ '–¢–∞–Ω–∫–∏ –û–Ω–ª–∞–π–Ω' –≥–æ—Ç–æ–≤–∞!"
    echo "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: WASD/—Å—Ç—Ä–µ–ª–∫–∏ - –¥–≤–∏–∂–µ–Ω–∏–µ, –ü—Ä–æ–±–µ–ª - —Å—Ç—Ä–µ–ª—å–±–∞"
    echo ""
    npm start

else
    echo "‚ùå –û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏! –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å."
    exit 1
fi

